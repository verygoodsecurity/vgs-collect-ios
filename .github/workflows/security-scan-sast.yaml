name: security-scan-sast

on:
  pull_request:
  workflow_dispatch:
  schedule:
    - cron: '40 3 * * *' # Sets Semgrep to scan every day at 3:40 UTC

jobs:
  scan:
    uses: verygood-ops/cicd-shared/.github/workflows/security-scan-sast.yaml@security-scan-sast-v1
    secrets:
      SEMGREP_APP_TOKEN: ${{ secrets.SEMGREP_APP_TOKEN }}