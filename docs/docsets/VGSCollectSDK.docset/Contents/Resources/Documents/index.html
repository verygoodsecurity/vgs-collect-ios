<!DOCTYPE html>
<html lang="en">
  <head>
    <title>VGSCollectSDK  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="VGSCollectSDK  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          VGSCollectSDK
        </a>
        
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/verygoodsecurity/vgs-collect-ios">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">VGSCollectSDK Reference</a>
      <img class="carat" src="img/carat.png" />
      VGSCollectSDK  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="UI%20Elements.html">UI Elements</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSTextField.html">VGSTextField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSCardTextField.html">VGSCardTextField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSCardTextField/CardIconLocation.html">– CardIconLocation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSExpDateTextField.html">VGSExpDateTextField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSExpDateTextField/MonthFormat.html">– MonthFormat</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSExpDateTextField/YearFormat.html">– YearFormat</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSCVCTextField.html">VGSCVCTextField</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSCVCTextField/CVCIconLocation.html">– CVCIconLocation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/VGSTextFieldDelegate.html">VGSTextFieldDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSConfiguration.html">VGSConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSExpDateConfiguration.html">VGSExpDateConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/FieldType.html">FieldType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="File%20Picker.html">File Picker</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSFilePickerController.html">VGSFilePickerController</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSFilePickerConfiguration.html">VGSFilePickerConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/VGSFilePickerControllerDelegate.html">VGSFilePickerControllerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/VGSFileSource.html">VGSFileSource</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSFileInfo.html">VGSFileInfo</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Observe%20State%20and%20Send%20Data.html">Observe State and Send Data</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSCollect.html">VGSCollect</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Environment.html">Environment</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/State.html">State</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SSNState.html">SSNState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/CardState.html">CardState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/VGSResponse.html">VGSResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/VGSCollectRequestOptions.html">VGSCollectRequestOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Observe%20State%20and%20Send%20Data.html#/s:13VGSCollectSDK8JsonDataa">JsonData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/HTTPMethod.html">HTTPMethod</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Observe%20State%20and%20Send%20Data.html#/s:13VGSCollectSDK11HTTPHeadersa">HTTPHeaders</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="VGSTextField%20Serializers.html">VGSTextField Serializers</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="VGSTextField%20Serializers.html#/s:13VGSCollectSDK27VGSFormatSerializerProtocolP">VGSFormatSerializerProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/VGSExpDateSeparateSerializer.html">VGSExpDateSeparateSerializer</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Validation%20Rules.html">Validation Rules</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/VGSValidationRuleSet.html">VGSValidationRuleSet</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/VGSValidationRuleLength.html">VGSValidationRuleLength</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/VGSValidationRuleLengthMatch.html">VGSValidationRuleLengthMatch</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/VGSValidationRulePattern.html">VGSValidationRulePattern</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/VGSValidationRulePaymentCard.html">VGSValidationRulePaymentCard</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/VGSValidationRuleLuhnCheck.html">VGSValidationRuleLuhnCheck</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/VGSValidationRuleCardExpirationDate.html">VGSValidationRuleCardExpirationDate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Errors.html">Errors</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSError.html">VGSError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/VGSErrorType.html">VGSErrorType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Errors.html#/s:13VGSCollectSDK0A14SDKErrorDomainSSvp">VGSCollectSDKErrorDomain</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Errors.html#/s:13VGSCollectSDK18VGSValidationErrora">VGSValidationError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/VGSValidationErrorType.html">VGSValidationErrorType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Error%20Keys.html">Error Keys</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Error%20Keys.html#/s:13VGSCollectSDK30VGSSDKErrorInputDataIsNotValidSSvp">VGSSDKErrorInputDataIsNotValid</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Error%20Keys.html#/s:13VGSCollectSDK28VGSSDKErrorInputDataRequiredSSvp">VGSSDKErrorInputDataRequired</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Error%20Keys.html#/s:13VGSCollectSDK33VGSSDKErrorInputDataRequiredValidSSvp">VGSSDKErrorInputDataRequiredValid</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Error%20Keys.html#/s:13VGSCollectSDK23VGSSDKErrorFileNotFoundSSvp">VGSSDKErrorFileNotFound</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Error%20Keys.html#/s:13VGSCollectSDK31VGSSDKErrorFileTypeNotSupportedSSvp">VGSSDKErrorFileTypeNotSupported</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Error%20Keys.html#/s:13VGSCollectSDK34VGSSDKErrorFileSizeExceedsTheLimitSSvp">VGSSDKErrorFileSizeExceedsTheLimit</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Error%20Keys.html#/s:13VGSCollectSDK29VGSSDKErrorSourceNotAvailableSSvp">VGSSDKErrorSourceNotAvailable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Error%20Keys.html#/s:13VGSCollectSDK39VGSSDKErrorUnexpectedResponseDataFormatSSvp">VGSSDKErrorUnexpectedResponseDataFormat</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Debugging.html">Debugging</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/VGSCollectLogger.html">VGSCollectLogger</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/VGSLogLevel.html">VGSLogLevel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/VGSCollectLoggingConfiguration.html">VGSCollectLoggingConfiguration</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enumerations.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/VGSCardExpDateFormat.html">VGSCardExpDateFormat</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/VGSCollectFieldNameMappingPolicy.html">VGSCollectFieldNameMappingPolicy</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Enums.html">Other Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/VGSTextFieldInputSource.html">VGSTextFieldInputSource</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <p><a href="https://circleci.com/gh/verygoodsecurity/vgs-collect-ios/tree/master"><img src="https://circleci.com/gh/verygoodsecurity/vgs-collect-ios/tree/master.svg?style=svg&circle-token=ec7cddc71a1c2f6e99843ef56fdb6898a2ef8f52" alt="CircleCI"></a>
<a href=""><img src="https://img.shields.io/badge/Unit_Test-pass-green" alt="UT"></a>
<a href=""><img src="https://img.shields.io/github/license/verygoodsecurity/vgs-collect-ios.svg" alt="license"></a>
<a href="https://github.com/verygoodsecurity/vgs-collect-ios"><img src="https://img.shields.io/cocoapods/p/VGSCollectSDK.svg?style=flat" alt="Platform"></a>
<a href=""><img src="https://img.shields.io/badge/swift-5-orange" alt="swift"></a>
<a href="https://cocoapods.org/pods/VGSCollectSDK"><img src="https://img.shields.io/cocoapods/v/VGSCollectSDK.svg?style=flat" alt="Cocoapods Compatible"></a>
<img src="./VGSZeroData.png" height="20"></p>
<h1 id='vgs-collect-ios-sdk' class='heading'>VGS Collect iOS SDK</h1>

<p>VGS Collect - is a product suite that allows customers to collect information securely without possession of it. VGSCollect iOS SDK  allows you to securely collect data from your users via forms without having to have that data pass through your systems. The form fields behave like traditional input fields while securing access to the unsecured data.</p>
<h1 id='table-of-contents' class='heading'>Table of contents</h1>

<!--ts-->

<ul>
<li><a href="#before-you-start">Before you start</a></li>
<li><a href="#integration">Integration</a>

<ul>
<li><a href="#cocoapods">CocoaPods</a></li>
<li><a href="#carthage">Carthage</a></li>
<li><a href="#swift-package-manager-beta">Swift Package Manager</a></li>
</ul></li>
<li><a href="#usage">Usage</a>

<ul>
<li><a href="#create-vgscollect-instance-and-vgs-ui-elements">Create VGSCollect instance and VGS UI Elements</a></li>
<li><a href="#scan-credit-card-data">Scan Credit Card Data</a></li>
<li><a href="#upload-files">Upload Files</a></li>
<li><a href="#demo-application">Demo Application</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#releases">Releases</a></li>
</ul></li>
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#license">License</a>
&lt;!&ndash;te&ndash;&gt;</li>
</ul>

<p align="center">
    <img src="https://raw.githubusercontent.com/verygoodsecurity/vgs-collect-ios/canary/vgs-collect-ios-state.png" width="200" alt="VGS Collect iOS SDK State" hspace="20">
    <img src="https://raw.githubusercontent.com/verygoodsecurity/vgs-collect-ios/canary/vgs-collect-ios-response.png" width="200" alt="VGS Collect iOS SDK Response" hspace="20">
</p>
<h2 id='before-you-start' class='heading'>Before you start</h2>

<p>You should have your organization registered at <a href="https://dashboard.verygoodsecurity.com/dashboard/">VGS Dashboard</a>. Sandbox vault will be pre-created for you. You should use your <code>&lt;vaultId&gt;</code> to start collecting data. Follow integration guide below.</p>
<h1 id='integration' class='heading'>Integration</h1>
<h3 id='cocoapods' class='heading'>CocoaPods</h3>

<p><a href="https://cocoapods.org">CocoaPods</a> is a dependency manager for Cocoa projects. For usage and installation instructions, visit their website. To integrate VGSCollectSDK into your Xcode project using CocoaPods, specify it in your <code>Podfile</code>:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'VGSCollectSDK'</span>
</code></pre>
<h3 id='carthage' class='heading'>Carthage</h3>

<p>VGCollectSDK is also available through <a href="https://github.com/Carthage/Carthage">Carthage</a>.
Add the following line  to your <code>Cartfile</code>:</p>
<pre class="highlight ruby"><code><span class="n">github</span> <span class="s2">"verygoodsecurity/vgs-collect-ios"</span>
</code></pre>

<p>then run:</p>
<pre class="highlight ruby"><code><span class="n">carthage</span> <span class="n">update</span> <span class="o">--</span><span class="n">platform</span> <span class="n">iOS</span>
</code></pre>

<p>If you don&rsquo;t need additional features like card scanning, you should add into your project only <code>VGSCollectSDK</code>. Other submodules can safely be deleted from Carthage Build folder.</p>

<p>Check VGSCollecSDK submodules and required frameworks:</p>

<table><thead>
<tr>
<th>Build Frameworks</th>
<th>Core SDK</th>
<th>CardIO</th>
<th>Card Scan</th>
</tr>
</thead><tbody>
<tr>
<td>VGSCollectSDK</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td>CardIO</td>
<td></td>
<td>✔</td>
<td></td>
</tr>
<tr>
<td>VGSCardIOCollector</td>
<td></td>
<td>✔</td>
<td></td>
</tr>
<tr>
<td>CardScan</td>
<td></td>
<td></td>
<td>✔</td>
</tr>
<tr>
<td>VGSCardScanCollector</td>
<td></td>
<td></td>
<td>✔</td>
</tr>
</tbody></table>

<p>Don&rsquo;t forget to import <code>VGSCardIOCollector</code> or <code>VGSCardScanCollector</code> in files where you use scan modules.</p>

<blockquote>
<p>NOTE: At this time <strong>Carthage</strong> does not provide a way to build only specific repository submodules. All submodules and their dependencies will be built by default. However you can include into your project only submodules that you need.</p>
</blockquote>
<h3 id='swift-package-manager-beta' class='heading'>Swift Package Manager (beta)</h3>

<p>The <a href="https://swift.org/package-manager/">Swift Package Manager</a> is a tool for automating the distribution of Swift code and is integrated into the <code>swift</code> compiler.
Xcode with Swift tools version of 5.3 is required for VGSCollectSDK. Earlier Xcode versions don&rsquo;t support Swift packages with resources.
To check your current Swift tools version run in your terminal:</p>
<pre class="highlight ruby"><code><span class="n">xcrun</span> <span class="n">swift</span> <span class="o">-</span><span class="n">version</span>
</code></pre>

<blockquote>
<p>NOTE: In some cases you can have multiple Swift tools versions installed.</p>
</blockquote>

<p>Follow the official Apple SPM guide <a href="https://developer.apple.com/documentation/xcode/adding_package_dependencies_to_your_app">instructions</a> for more details.<br>
To use Swift Package Manager, in Xcode add the <a href="https://github.com/verygoodsecurity/vgs-collect-ios.git">https://github.com/verygoodsecurity/vgs-collect-ios.git</a> dependency and choose the <code>Exact</code> version.</p>

<p align="center">
<img src="images/VGSCollect_CardScan_SPM_1.png" width="70%">
</p>

<p>Select <code>VGSCollectSDK</code> and optionally other packages provided with <code>VGSCollectSDK</code>:</p>

<p align="center">
<img src="images/VGSCollect_CardScan_SPM_2.png" width="70%">
</p>
<h2 id='usage' class='heading'>Usage</h2>
<h3 id='import-sdk-into-your-file' class='heading'>Import SDK into your file</h3>
<pre class="highlight swift"><code>
<span class="kd">import</span> <span class="kt">VGSCollectSDK</span>

</code></pre>
<h3 id='create-vgscollect-instance-and-vgs-ui-elements' class='heading'>Create VGSCollect instance and VGS UI Elements</h3>

<p>Use your <code>&lt;vaultId&gt;</code> to initialize VGSCollect instance. You can get it in your <a href="https://dashboard.verygoodsecurity.com/">organisation dashboard</a>.</p>
<h3 id='code-example' class='heading'>Code example</h3>

<table>
  <tr">
    <th >Here&rsquo;s an example</th>
    <th width="27%">In Action</th>
  </tr>
  <tr>
    <td>Customize  VGSTextFields&hellip;</td>
     <th rowspan="2"><img src="add-card.gif"></th>
  </tr>
  <tr>
    <td>

    /// Initialize VGSCollect instance
    var vgsCollect = VGSCollect(id: &ldquo;vauiltId&rdquo;, environment: .sandbox)

    /// VGS UI Elements
    var cardNumberField = VGSCardTextField()
    var cardHolderNameField = VGSTextField()
    var expCardDateField = VGSTextField()
    var cvcField = VGSTextField()

    /// Native UI Elements
    @IBOutlet weak var stackView: UIStackView!

    override func viewDidLoad() {
        super.viewDidLoad()

        /// Create card number field configuration
        let cardConfiguration = VGSConfiguration(collector: vgsCollect,
                                             fieldName: &ldquo;card_number&rdquo;)
        cardConfiguration.type = .cardNumber
        cardConfiguration.isRequiredValidOnly = true

        /// Setup configuration to card number field
        cardNumberField.configuration = cardConfiguration
        cardNumberField.placeholder = &ldquo;Card Number&rdquo;
        stackView.addArrangedSubview(cardNumberField)

        /// Setup next textfields&hellip;
    }
    &hellip;
  </td>
  </tr>
  <tr>
    <td>&hellip; observe filed states </td>
     <th rowspan="2"><img src="state.gif"></th>
  </tr>
  <tr>
    <td>
    
    override func viewDidLoad() {
        super.viewDidLoad()
        
        &hellip;  
        
        /// Observing text fields
        vgsCollect.observeStates = { textFields in

            textFields.forEach({ textField in
                print(textdField.state.description)
                if textdField.state.isValid {
                    textField.borderColor = .grey
                } else {
                    textField.borderColor = .red
                }

                /// CardState is available for VGSCardTextField
                if let cardState = textField.state as? CardState {
                    print(cardState.bin)
                    print(cardState.last4)
                    print(cardState.brand.stringValue)
                }
            })
        }
    }
  </td>
  </tr>
  <tr>
    <td colspan="2">&hellip; send data to your Vault</td>
  </tr>
  <tr>
    <td colspan="2">
        
    // &hellip;

    // MARK: - Send data    
    func sendData() {
    
        /// handle fields validation before send data
        guard cardNumberField.state.isValid else {
        print(&ldquo;cardNumberField input is not valid&rdquo;)
        }
    
        /// extra information will be sent together with all sensitive card information
        var extraData = [String: Any]()
        extraData[&ldquo;customKey&rdquo;] = &ldquo;Custom Value&rdquo;

        /// send data to your Vault
        vgsCollect.sendData(path: &ldquo;/post&rdquo;, extraData: extraData) { [weak self](response) in
          switch response {
            case .success(let code, let data, let response):
              // parse data
            case .failure(let code, let data, let response, let error):
              // handle failed request
              switch code {
                // handle error codes
              }
          }
        }
    }
  </td>
  </tr>
</table>

<p><strong>VGSCardTextField</strong> automatically detects card provider and display card brand icon in the input field.</p>
<h3 id='scan-credit-card-data' class='heading'>Scan Credit Card Data</h3>

<p>VGS Collect SDK provides several card scan solutions for the Payment Card Industry to help protect your businesses and the sensitive information of your consumers. It&rsquo;s required to use only Scan modules provided by VGS, which are audited by VGS PCI requirements.</p>
<h4 id='integrate-with-cocoapods' class='heading'>Integrate with Cocoapods</h4>

<p>Add &lsquo;VGSCollectSDK&rsquo; alongside with one of scan modules pod:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'VGSCollectSDK'</span>

<span class="c1"># Add CardIO module to use Card.io as scan provider</span>
<span class="n">pod</span> <span class="s1">'VGSCollectSDK/CardIO'</span> 

<span class="c1"># Add CardScan module to use CardScan(Bouncer) as scan provider</span>
<span class="n">pod</span> <span class="s1">'VGSCollectSDK/CardScan'</span> 
</code></pre>
<h4 id='integrate-with-swift-package-manager' class='heading'>Integrate with Swift Package Manager</h4>

<p>Starting with the 1.7.4 release, <code>VGSCollectSDK</code> also supports  <a href="https://github.com/getbouncer/cardscan-ios">CardScan</a> integration via Swift PM.</p>

<p>To use <strong>CardScan</strong> add <code>VGSCollectSDK</code>, <code>VGSCardScanCollector</code> packages to your target. </p>

<p>Starting with the 1.7.11 release, <code>VGSCollectSDK</code> supports  <a href="https://github.com/verygoodsecurity/card.io-iOS-source">CardIO</a> integration via Swift PM.</p>

<p>To use <strong>CardIO</strong> add <code>VGSCollectSDK</code>, <code>VGSCardIOCollector</code> packages to your target. </p>
<h4 id='integrate-with-carthage' class='heading'>Integrate with Carthage</h4>

<p>Carthage users should point to <code>VGSCollectSDK</code> repository and use next generated framework:</p>

<ul>
<li>To use <strong>Card.io</strong>: <code>VGSCollectSDK</code>, <code>VGSCardIOCollector</code>, and <code>CardIO</code>. In your file add <code>import VGSCardIOCollector</code>.</li>
<li>To use <strong>Card Scan</strong>: <code>VGSCollectSDK</code>, <code>VGSCardScanCollector</code>, and <code>CardScan</code>. In your file add <code>import VGSCardScanCollector</code>.</li>
</ul>

<p>Other submodules can safely be deleted from Carthage Build folder.</p>

<blockquote>
<p>NOTE: At this time, <strong>Carthage</strong> does not provide a way to build only specific repository submodules. All submodules and their dependencies will be built by default. However you can include into your project only submodules that you need.</p>

<p>NOTE: For <strong>Carthage</strong> users CardScan available only with version 1.0.5048. Use <strong>CocoaPods</strong> or <strong>Swift Package Manager</strong> integration for the latest CardScan version. CardScan supports only <strong>CocoaPods</strong> or <strong>Swift Package Manager</strong> now.</p>
</blockquote>
<h4 id='code-example' class='heading'>Code Example</h4>

<table>
  <tr>
    <th>Here&rsquo;s an example</th>
    <th width="25%">In Action</th>
  </tr>
  <tr>
    <td>Setup  VGSCardIOScanController&hellip;</td>
    <th rowspan="2"><img src="card-scan.gif"></th>
  </tr>
  <tr>
    <td>
    
    class ViewController: UIViewController {
         
        var vgsCollect = VGSCollect(id: &ldquo;vauiltId&rdquo;, environment: .sandbox)

        /// Init VGSCardIOScanController
        var scanController = VGSCardIOScanController()

        /// Init VGSTextFields&hellip;

        override func viewDidLoad() {
            super.viewDidLoad()

            /// set VGSCardIOScanDelegate
            canController.delegate = self
        }

        /// Present scan controller 
        func scanData() {
            scanController.presentCardScanner(on: self,
                    animated: true,
                      completion: nil)
        }

        // MARK: - Send data  
        func sendData() {
            /// Send data from VGSTextFields to your Vault
            vgsCollect.sendData{&hellip;}
        }
    }
    &hellip;
  </td>
  </tr>
  <tr>
    <td colspan="2">&hellip; handle VGSCardIOScanControllerDelegate</td>
  </tr>
  <tr>
    <td colspan="2">
        
    // &hellip;
    
    /// Implement VGSCardIOScanControllerDelegate methods
    extension ViewController: VGSCardIOScanControllerDelegate {

        ///Asks VGSTextField where scanned data with type need to be set.
        func textFieldForScannedData(type: CradIODataType) -> VGSTextField? {
        switch type {
        case .expirationDate:
            return expCardDateField
        case .cvc:
            return cvcField
        case .cardNumber:
            return cardNumberField
        default:
            return nil
        }
        }

        /// When user press Done button on CardIO screen
        func userDidFinishScan() {
        scanController.dismissCardScanner(animated: true, completion: { [weak self] in
            /// self?.sendData()
        })
        }
    }
   
  </td>
  </tr>
</table>

<p>Handle <code>VGSCardIOScanControllerDelegate</code> functions. To setup scanned data into specific  VGSTextField implement <code>textFieldForScannedData:</code> . If scanned data is valid it will be set in your VGSTextField automatically after user confirmation. Check  <code>CradIODataType</code> to get available scand data types.</p>

<p>Don&rsquo;t forget to add <strong>NSCameraUsageDescription</strong> key and description into your App <code>Info.plist</code>.</p>
<h3 id='upload-files' class='heading'>Upload Files</h3>

<p>You can add a file uploading functionality to your application with <strong>VGSFilePickerController</strong>.</p>
<h4 id='code-example' class='heading'>Code Example</h4>

<table>
  <tr">
    <th  colspan="2>Here&rsquo;s an example</th>
  </tr>
  <tr>
    <td colspan="2">Setup  VGSFilePickerController&hellip;</td>
  </tr>
  <tr>
    <td colspan="2">
        
    class FilePickerViewController: UIViewController, VGSFilePickerControllerDelegate {

      var vgsCollect = VGSCollect(id: &ldquo;vailtId&rdquo;, environment: .sandbox)
      
      /// Create strong referrence of VGSFilePickerController
      var pickerController: VGSFilePickerController?

      override func viewDidLoad() {
          super.viewDidLoad()

          /// create picker configuration
          let filePickerConfig = VGSFilePickerConfiguration(collector: vgsCollect,
                                    fieldName: &ldquo;secret_doc&rdquo;,
                                   fileSource: .photoLibrary)

          /// init picket controller with configuration
          pickerController = VGSFilePickerController(configuration: filePickerConfig)

          /// handle picker delegates
          pickerController?.delegate = self
      }

      /// Present picker controller
      func presentFilePicker() {
          pickerController?.presentFilePicker(on: self, animated: true, completion: nil)
      }
    }
    &hellip;
  </td>
  </tr>
  <tr>
    <td>&hellip; handle VGSFilePickerControllerDelegate</td>
    <th width="27%">In Action</th>
  </tr>
  <tr>
    <td>
    
    // &hellip;  
    
    // MARK: - VGSFilePickerControllerDelegate
    /// Check file info, selected by user
    func userDidPickFileWithInfo(_ info: VGSFileInfo) {
        let fileInfo = &ldquo;&rdquo;&ldquo;
                File info:
                - fileExtension: \(info.fileExtension ?? &quot;unknown&rdquo;)
                - size: \(info.size)
                - sizeUnits: \(info.sizeUnits ?? &ldquo;unknown&rdquo;)
                &ldquo;&rdquo;&ldquo;
        print(fileInfo)
        pickerController?.dismissFilePicker(animated: true,
                          completion: { [weak self] in
                          
            self?.sendFile()
        })
    }

    // Handle cancel file selection
    func userDidSCancelFilePicking() {
        pickerController?.dismissFilePicker(animated: true)
    }

    // Handle errors on picking the file
    func filePickingFailedWithError(_ error: VGSError) {
        pickerController?.dismissFilePicker(animated: true)
    }
   
  </td>
  <td><img src="file-picker.gif"></td>
  </tr>
  <tr>
    <td colspan="2">&hellip; send file to your Vault</td>
  </tr>
  <tr>
    <td colspan="2">
        
    // &hellip;

    // MARK: - Send File    
    /// Send file and extra data
    func sendFile() {
    
        /// add extra data to send request  
        let extraData = [&quot;document_holder&rdquo;: &ldquo;Joe B&rdquo;]
    
      /// send file to your Vault
      vgsCollect.sendFile(path: &ldquo;/post&rdquo;, extraData: extraData) { [weak self](response) in
        switch response {
          case .success(let code, let data, let response):
            /// remove file from VGSCollect storage
            self?.vgsCollect.cleanFiles()
          case .failure(let code, let data, let response, let error):
            // handle failed request
            switch code {
              // handle error codes
            }
        }
      }
    }
  </td>
  </tr>
</table>

<p>Use vgsCollect.cleanFiles() to unassign file from associated VGSCollect instance whenever you need.</p>
<h2 id='demo-application' class='heading'>Demo Application</h2>

<p>Demo application for collecting card data on iOS is <a href="https://github.com/vgs-samples/very-spacy-food-iOS">here</a>.</p>

<p>Also you can check our <a href="./demoapp/demoapp/UseCases/MultiplexingSetup/">payment optimization demo</a> with Multiplexing.</p>
<h3 id='documentation' class='heading'>Documentation</h3>

<ul>
<li>SDK Documentation: <a href="https://www.verygoodsecurity.com/docs/vgs-collect/ios-sdk">https://www.verygoodsecurity.com/docs/vgs-collect/ios-sdk</a></li>
<li>API Documentation: <a href="https://verygoodsecurity.github.io/vgs-collect-ios/">https://verygoodsecurity.github.io/vgs-collect-ios/</a></li>
</ul>
<h3 id='releases' class='heading'>Releases</h3>

<p>To follow <code>VGSCollectSDK</code> updates and changes check the <a href="https://github.com/verygoodsecurity/vgs-collect-ios/releases">releases</a> page.</p>
<h3 id='metrics' class='heading'>Metrics</h3>

<p>VGSCollectSDK tracks a few key metrics to understand SDK features usage, which helps us know what areas need improvement. No personal information is tracked.
You can easily opt-out of metrics collection in <code>VGSAnalyticsClient</code>:</p>
<pre class="highlight plaintext"><code>VGSAnalyticsClient.shared.shouldCollectAnalytics = false
</code></pre>
<h2 id='dependencies' class='heading'>Dependencies</h2>

<ul>
<li>iOS 10+</li>
<li>Swift 5</li>
<li>Optional 3rd party libraries:

<ul>
<li><a href="https://github.com/card-io/card.io-iOS-SDK">CardIO</a></li>
<li><a href="https://github.com/getbouncer/cardscan-ios">Card Scan(Bouncer)</a></li>
</ul></li>
</ul>
<h2 id='license' class='heading'>License</h2>

<p>VGSCollect iOS SDK is released under the MIT license. <a href="https://github.com/verygoodsecurity/vgs-collect-ios/blob/master/LICENSE">See LICENSE</a> for details.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2021 <a class="link" href="https://verygoodsecurity.com" target="_blank" rel="external">Very Good Security</a>. All rights reserved. (Last updated: 2021-10-21)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.5</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
